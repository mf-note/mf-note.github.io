<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>Git 常见指令 &mdash; MF</title><link rel="stylesheet" href="https://mfuu.github.io/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/components/collection.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/globals/common.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/posts/index.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/css/markdown/github.css"><link rel="stylesheet" href="https://mfuu.github.io/assets/vendor/share.js/dist/css/share.min.css"><link rel="canonical" href="https://mfuu.github.io/2022/03/03/Git-%E5%B8%B8%E8%A7%81%E6%8C%87%E4%BB%A4/"><link rel="alternate" type="application/atom+xml" title="MF" href="https://mfuu.github.io/feed.xml"><link rel="shortcut icon" href="https://mfuu.github.io/favicon.ico"><meta property="og:title" content="Git 常见指令"><meta property="twitter:title" content="Git 常见指令"><meta name="keywords" content="Git"><meta name="og:keywords" content="Git"><meta name="description" content="Git是什么"><meta name="og:description" content="Git是什么"><meta name="twitter:description" content="Git是什么"><meta property="og:url" content="https://mfuu.github.io/2022/03/03/Git-%E5%B8%B8%E8%A7%81%E6%8C%87%E4%BB%A4/"><meta property="og:site_name" content="MF"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="twitter:url" content="https://mfuu.github.io/2022/03/03/Git-%E5%B8%B8%E8%A7%81%E6%8C%87%E4%BB%A4/"><meta property="twitter:site_name" content="MF"><meta property="article:published_time" content="2022-03-03"> <script src="https://mfuu.github.io/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://mfuu.github.io/assets/js/jquery-ui.js"></script> <script src="https://mfuu.github.io/assets/js/main.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"> <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <svg viewBox="0 0 18 15" width="18px" height="15px"><path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </button><nav id="site-header-nav" class="site-header-nav" role="navigation"> <a href="https://mfuu.github.io/" class=" site-header-nav-item" target="" title="首页">首页</a> <a href="https://mfuu.github.io/categories/" class=" site-header-nav-item" target="" title="分类">分类</a> <a href="https://mfuu.github.io/archives/" class=" site-header-nav-item" target="" title="归档">归档</a> <a href="https://mfuu.github.io/about/" class=" site-header-nav-item" target="" title="关于">关于</a></nav><div class="site-title mobile-visible" title="POST">POST</div><div class="site-header-oprate"><div id="site-search" class="site-search"> <span id="search-icon" class="octicon-search mobile-visible" onclick="mobileSearch(this);"></span> <input id="search_box" class="mobile-search-hidden" type="text" placeholder="Search" ><ul id="search_results"></ul></div><script src="https://mfuu.github.io/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> function mobileSearch(node) { var search = $('#search_box'); if (search.hasClass('mobile-search-hidden')) { search.removeClass('mobile-search-hidden'); } else { search.addClass('mobile-search-hidden'); } if (node.style.right == '5px') { node.style.right = '0px'; } else { node.style.right = '5px'; } }; SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://mfuu.github.io/assets/search_data.json?v=1660204638', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: '<li class="empty">No results found</li>', limit: '10', fuzzy: false, exclude: ['Welcome'] }); </script></div></div></header><main class="site-container"><section class="collection-head small" data-pattern-id="Git 常见指令"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">Git 常见指令</h1><div class="collection-info"> <span class="meta-info inline-flex align-items-center"> <span class="octicon octicon-calendar"></span> 2022/03/03 </span> <span class="meta-info inline-flex align-items-center"> <span class="octicon octicon-file-directory"></span> <a href="https://mfuu.github.io/categories/#Git" title="Git">Git</a> </span> <span class="meta-info inline-flex align-items-center"> <span class="octicon octicon-file-directory"></span> <a href="https://mfuu.github.io/categories/#面试题" title="面试题">面试题</a> </span> <span class="meta-info inline-flex align-items-center"> <span class="octicon octicon-clock"></span> 共 2677 字，约 8 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><h3 id="git是什么">Git是什么</h3><p>Git是<strong>分布式</strong>版本控制系统，与 SVN 类似的<strong>集中式</strong>版本控制系统相比，集中化版本控制系统虽然能够命令多个团队成员一起协作开发，但如果中央服务器宕机的话，谁也无法在宕机期间提交更新和协同开发。</p><p>但 Git 是分布式的版本控制系统，客户端不只是提取最新版本的快照，而是将整个代码仓库镜像复制下来。如果任何协同工作用的服务器发生故障，也可以用任何一个代码仓库来恢复。而且在协作服务器宕机期间，你也可以提交代码到本地仓库，当协作服务器正常工作后，再将本地仓库同步到远程仓库。</p><h3 id="git的工作流程">Git的工作流程</h3><p><img src="https://user-images.githubusercontent.com/51625532/156485581-8f2e3d39-b9cd-4f6e-9329-40c2f9c50d90.png" alt="git" /></p><ul><li>workspace：工作区。工作成员进行开发时改动的地方。平常我们开发就是拷贝远程仓库的一个分支，基于该分支进行开发。在开发过程中就是对工作区的操作。</li><li>Index：暂存区。当执行 <code class="language-plaintext highlighter-rouge">git add</code> 指令后，工作区的文件就会被移入暂存区。暂存区会记录移入文件的相关信息，不保存文件实体，通过 id 指向每个文件实体。暂存区标记了当前工作区中哪些内容是被 Git 管理的。</li><li>Repository：本地仓库。位于自己的电脑上，通过 <code class="language-plaintext highlighter-rouge">git commit</code> 指令提交暂存区的内容，会进入到本地仓库。</li><li>Remote：远程仓库。用来托管代码的服务器，远程仓库的内容能够被分布在多个地点的协作关系的本地仓库修改。本地仓库修改完后使用 <code class="language-plaintext highlighter-rouge">git push</code> 指令提交到远程仓库。</li></ul><p>Git 的工作流程一般为：</p><ul><li>1.在工作区修改/添加/删除文件</li><li>2.将工作区改动的文件放入暂存区</li><li>3.将暂存区的文件提交到本地仓库</li><li>4.将本地仓库的文件推送到远程仓库</li></ul><h3 id="git目录结构"><code class="language-plaintext highlighter-rouge">.git</code>目录结构</h3><p>Git目录 是项目存储所有历史和元信息的目录，包括所有的对象（commits、trees、blobs、tags）</p><p>每一个项目只能有一个 Git目录（这和 SVN、CVS 的每个子目录中都有此类目录相反），Git目录 是项目的根目录下名为 <code class="language-plaintext highlighter-rouge">.get</code> 的隐藏目录。</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|—— HEAD
|—— branches
|—— config
|—— description
|—— index
|—— hooks
| |—— pre-commit.sample
| |—— pre-push.sample
| |__ ...
|—— info
| |__ exclude
|—— objects
| |__ info
| |__ pack
|__ refs
  |—— heads
  |__ tags
</code></pre></div></div><p>核心文件：config、objects、HEAD、index、refs</p><ul><li>config：存储项目的一些配置信息，比如远程的 url、邮箱、用户名等，每次在控制台使用 <code class="language-plaintext highlighter-rouge">git config ...</code> 都会对该文件产生影响。git remote add 添加的远程分支信息就保存在这里。</li><li>objects：存储 git 对象。git 对象分为 BLOB、tree、commit 三种类型。</li><li>HEAD：指明本地的分支结果，如本地分支是 master，那么 HEAD 就指向 master，分支在 refs 中就会表示成 <code class="language-plaintext highlighter-rouge">refs:refs/heads/master</code>。</li><li>index：存储缓冲区（stage）的内容，也就是 add 之后保存到的区域，内容包括指向文件的时间戳、文件名、sha1等。</li><li>refs：存储指向 branch分支 的最近一次 commit 对象的指针，也就是 commit 对象的 sha-1 值，每个分支一个文件</li></ul><h3 id="git命令">Git命令</h3><h4 id="工作区上的操作命令">工作区上的操作命令</h4><ul><li>新建仓库<ul><li>创建一个新的本地仓库：<code class="language-plaintext highlighter-rouge">git init</code></li><li>从远程克隆项目：<code class="language-plaintext highlighter-rouge">git clone &lt;url&gt;</code></li></ul></li><li>提交<ul><li>提交工作区所有文件到暂存区：<code class="language-plaintext highlighter-rouge">git add</code></li><li>提交工作区指定文件到暂存区：<code class="language-plaintext highlighter-rouge">git add &lt;file1&gt; &lt;file2&gt; ...</code></li><li>提交工作区某个文件夹中所有文件到暂存区：<code class="language-plaintext highlighter-rouge">git add [dir]</code></li></ul></li><li>撤销<ul><li>删除工作区文件，并且也从暂存区删除对应文件的记录：<code class="language-plaintext highlighter-rouge">git rm &lt;file1&gt; &lt;file2&gt;</code></li><li>从暂存区中删除文件，但是工作区依然有该文件：<code class="language-plaintext highlighter-rouge">git rm --cached &lt;file&gt;</code></li><li>取消暂存区已经暂存的文件：<code class="language-plaintext highlighter-rouge">git reset HEAD &lt;file&gt; ...</code></li><li>撤销上一次对文件的操作：<code class="language-plaintext highlighter-rouge">git checkout --&lt;file&gt;</code></li><li>储藏当前变更，以便能够切换分支：<code class="language-plaintext highlighter-rouge">git stash</code></li><li>查看当前所有的储藏：<code class="language-plaintext highlighter-rouge">git stash list</code></li><li>应用最新的储藏：<code class="language-plaintext highlighter-rouge">git stash apply</code></li></ul></li><li>查看更新信息<ul><li>查询当前工作区所有文件的状态：<code class="language-plaintext highlighter-rouge">git status</code></li><li>比较工作区中当前文件和暂存区之前的差异：<code class="language-plaintext highlighter-rouge">git diff</code></li><li>比较指定文件在工作区和暂存区上的差异：<code class="language-plaintext highlighter-rouge">git diff &lt;file-name&gt;</code></li></ul></li></ul><h4 id="暂存区上的操作指令">暂存区上的操作指令</h4><ul><li>提交文件到版本库<ul><li>将暂存区中的文件提交到本地仓库：<code class="language-plaintext highlighter-rouge">git commit -m 'commit-info'</code></li><li>将所有文件暂存后一并提交，跳过 add 到暂存区的过程：<code class="language-plaintext highlighter-rouge">git commit -a -m 'commit-info'</code></li><li>撤销上一次提交：<code class="language-plaintext highlighter-rouge">git commit --amend</code></li></ul></li><li>查看信息<ul><li>比较暂存区与上一版本的差异：<code class="language-plaintext highlighter-rouge">git diff --cached</code></li><li>比较指定文件在暂存区和本地仓库的不同：<code class="language-plaintext highlighter-rouge">git diff &lt;file-name&gt; --cached</code></li><li>查看提交历史：<code class="language-plaintext highlighter-rouge">git log</code></li></ul></li><li>分支管理<ul><li>创建分支：<code class="language-plaintext highlighter-rouge">git branch &lt;branch-name&gt;</code></li><li>切换分支：<code class="language-plaintext highlighter-rouge">git checkout &lt;branch-name&gt;</code></li><li>新建分支并切换到新建分支上：<code class="language-plaintext highlighter-rouge">git checkout -b &lt;branch-name&gt;</code></li><li>删除分支：<code class="language-plaintext highlighter-rouge">git branch -d &lt;branch-name&gt;</code></li><li>将当前分支与指定分支合并：<code class="language-plaintext highlighter-rouge">git merge &lt;branch-name&gt;</code></li><li>显示本地仓库的所有分支：<code class="language-plaintext highlighter-rouge">git branch</code></li><li>查看当前哪些分支没有合并到当前分支：<code class="language-plaintext highlighter-rouge">git branch --no-merged</code></li><li>把远程分支合并到当前分支：<code class="language-plaintext highlighter-rouge">git merge &lt;remote/branch-name&gt;</code></li><li>向远程分支推送内容：<code class="language-plaintext highlighter-rouge">git push</code></li><li>合并远程分支：<code class="language-plaintext highlighter-rouge">git pull</code></li></ul></li></ul><h4 id="本地仓库上的操作指令">本地仓库上的操作指令</h4><ul><li>查看本地仓库关联的远程仓库：<code class="language-plaintext highlighter-rouge">git remote</code></li><li>添加远程仓库：<code class="language-plaintext highlighter-rouge">git remote add [remote-name] [url]</code></li><li>从远程仓库中抓取本地仓库中没有的更新：<code class="language-plaintext highlighter-rouge">git fetch [remote-name]</code>,fetch 知识将远端数据拉到本地仓库，不会自动合并到当前工作分支</li><li>将本地仓库分支推送到远程仓库：<code class="language-plaintext highlighter-rouge">git push [remote-name] [branch-name]</code></li><li>查看远程仓库信息：<code class="language-plaintext highlighter-rouge">git remote show origin</code></li><li>修改远程仓库在本地的简称：<code class="language-plaintext highlighter-rouge">git remote rename [old-name] [new-name]</code></li><li>移出远程仓库：<code class="language-plaintext highlighter-rouge">git remote rm [remote-name]</code></li></ul></article><div class="post-tail-wrapper"><div class="post-meta mb-3"> <span class="octicon octicon-file-directory mr-1"></span> <a href="https://mfuu.github.io/categories/#Git" title="Git">Git</a> <a href="https://mfuu.github.io/categories/#面试题" title="面试题">面试题</a></div><div class="share flex align-items-center justify-content-between"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-component" data-disabled='douban,linkedin'> <span class="mr-1">share : </span></div></div></div><div class="comment"> <script src="https://beaudar.lipk.org/client.js" repo="mfuu/mfuu.github.io" issue-term="title" label="beaudar" theme="github-light" comment-order="desc" input-position="top" crossorigin="anonymous" async ></script></div></div><div class="column one-fourth sticky-nav"><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://mfuu.github.io/assets/js/jquery.toc.js"></script></div></div></section></main><footer class="site-footer"><div class="contact"><ul class="left"> <a href="https://github.com/mfuu/mfuu.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a> <a class="rss" href="https://mfuu.github.io/feed.xml"> <span class="octicon octicon-rss" title="Subscribe"></span> </a></ul><ul class="right"> <a href="javascript:window.scrollTo(0,0)" class="toTop" title="Scroll to top">TOP</a></ul></div><div class="footer" role="contentinfo"><div class="copyright left"> © 2019 <span title="mfuu">mfuu</span></div><div class="right text-align-right"> <script async src="https://mfuu.github.io/assets/vendor/busuanzi/2.3/busuanzi.pure.mini.js"></script><div> <span id="busuanzi_container_site_pv" style="display:none"> <span id="busuanzi_value_site_pv"></span>浏览 </span> <span id="busuanzi_container_site_uv" style="display:none"> &nbsp;/&nbsp; <span id="busuanzi_value_site_uv"></span>访客 </span></div></div></div></footer><div class="tools-wrapper mobile-hidden"> <a class="gotop" href="#" title="回到顶部"> <svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8=""><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8=""></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8=""></path></svg> </a></div><script src="https://mfuu.github.io/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="https://mfuu.github.io/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script> <script> jQuery(document).ready(function($) { function setContainerStyle(){ var footerH = $("footer").height(); $('.site-container').css('paddingBottom', `${footerH + 50}px`); } setContainerStyle(); $(window).resize(setContainerStyle()); }); </script></body></html><div class="progress-indicator"></div><script> jQuery(document).ready(function($) { var $w = $(window); var $prog2 = $('.progress-indicator'); var wh = $w.height(); var h = $('body').height(); var sHeight = h - wh; if (!window.requestAnimationFrame) { window.requestAnimationFrame = function(callback){ return setTimeout(callback, 17); }; }; $w.on('scroll', function() { window.requestAnimationFrame(function(){ var perc = Math.max(0, Math.min(1, $w.scrollTop() / sHeight)); updateProgress(perc); }); }); function updateProgress(perc) { $prog2.css({width: perc * 100 + '%'}); } setTimeout(() => { window.toTop && window.toTop() }, 0) }); </script>
